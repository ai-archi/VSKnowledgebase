id: a714a342-4a22-42c5-8710-9c7d1eb20a21
title: ddd
status: pending
priority: medium
category: task
createdAt: '2025-12-25T09:01:42.336Z'
updatedAt: '2025-12-25T09:02:51.378Z'
steps:
  - id: draft-proposal
    type: DraftProposalStep
    form:
      title: 起草提案
      schema:
        questions:
          type: array
          title: 问题列表
          description: AI 将询问关键问题以明确需求
        proposal:
          type: textarea
          title: 生成的提案
          description: 基于问题回答生成的提案内容
          required: false
    prompt: |
      你是一个专业的系统架构师，需要基于以下信息起草提案：

      任务名称：{{ task.name }}
      任务描述：{{ task.description }}
      方案路径：{{ solutionPath }}

      当前步骤表单数据：
      {% if formDataItems %}
      {% for item in formDataItems %}
      - {{ item.key }}: {{ item.value }}
      {% endfor %}
      {% else %}
      （暂无表单数据）
      {% endif %}

      请基于以上信息，生成一个详细的提案，包括：
      1. 需求分析
      2. 技术方案
      3. 实施计划
      4. 风险评估
    depends_on: []
    status: completed
    formData: {}
    createdAt: '2025-12-25T09:01:42.336Z'
    startedAt: '2025-12-25T09:01:42.336Z'
    completedAt: '2025-12-25T09:02:51.378Z'
  - id: review-alignment
    type: ReviewAlignmentStep
    form:
      title: 审查对齐
      schema:
        proposal:
          type: textarea
          title: 提案内容
          description: 待审查的提案内容
          required: false
        feedback:
          type: textarea
          title: 反馈意见
          description: 对提案的反馈和修改建议
          required: false
    prompt: |
      你是一个专业的系统架构审查专家，需要审查以下提案：

      任务名称：{{ task.name }}
      方案路径：{{ solutionPath }}

      当前步骤表单数据：
      {% if formDataItems %}
      {% for item in formDataItems %}
      - {{ item.key }}: {{ item.value }}
      {% endfor %}
      {% else %}
      （暂无表单数据）
      {% endif %}

      请基于以上信息，对提案进行审查，并提供：
      1. 提案的优点
      2. 存在的问题
      3. 改进建议
      4. 风险评估
    depends_on:
      - draft-proposal
    status: in-progress
    formData: {}
    createdAt: '2025-12-25T09:01:42.336Z'
    startedAt: '2025-12-25T09:02:51.378Z'
  - id: implementation
    type: ImplementationStep
    form:
      title: 实现任务
      schema:
        specification:
          type: textarea
          title: 规范内容
          description: 经过审查和修改后的最终规范
          required: false
        codeFiles:
          type: array
          title: 生成的代码文件
          description: 根据规范生成的代码文件列表
          required: false
    prompt: |
      你是一个专业的软件开发工程师，需要基于以下信息实现任务：

      任务名称：{{ task.name }}
      方案路径：{{ solutionPath }}

      当前步骤表单数据：
      {% if formDataItems %}
      {% for item in formDataItems %}
      - {{ item.key }}: {{ item.value }}
      {% endfor %}
      {% else %}
      （暂无表单数据）
      {% endif %}

      请基于以上信息，生成实现方案，包括：
      1. 技术实现方案
      2. 代码文件结构
      3. 关键代码实现
      4. 测试计划
    depends_on:
      - review-alignment
    status: pending
    formData: {}
    createdAt: '2025-12-25T09:01:42.336Z'
  - id: archive-update
    type: ArchiveUpdateStep
    form:
      title: 归档更新
      schema:
        updatedDocuments:
          type: array
          title: 已更新的文档
          description: 需要更新或创建的文档列表
          required: false
    prompt: |
      你是一个专业的文档管理专家，需要基于以下信息更新文档：

      任务名称：{{ task.name }}
      方案路径：{{ solutionPath }}

      当前步骤表单数据：
      {% if formDataItems %}
      {% for item in formDataItems %}
      - {{ item.key }}: {{ item.value }}
      {% endfor %}
      {% else %}
      （暂无表单数据）
      {% endif %}

      请基于以上信息，生成文档更新方案，包括：
      1. 需要更新的文档列表
      2. 每个文档的更新内容
      3. 文档结构建议
      4. 归档建议
    depends_on:
      - implementation
    status: pending
    formData: {}
    createdAt: '2025-12-25T09:01:42.336Z'
currentStep: review-alignment
templateId: default-task-template
description: ''
