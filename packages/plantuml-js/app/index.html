<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PlantUML Diagram Editor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <main class="workspace" id="workspace">
      <div class="diagram-panel" id="diagram-panel">
        <div class="diagram-container" id="diagram-container"></div>
        <div class="zoom-controls" id="zoom-controls">
          <button id="zoom-in" title="放大" aria-label="放大">+</button>
          <button id="zoom-out" title="缩小" aria-label="缩小">−</button>
          <button id="zoom-reset" title="重置缩放" aria-label="重置缩放">⌂</button>
        </div>
      </div>
      <div
        class="workspace-divider"
        id="workspace-divider"
        role="separator"
        aria-orientation="vertical"
        tabindex="0"
      ></div>
      <aside class="source-panel" id="source-panel">
        <div class="panel-header">
          <span class="panel-title">源代码</span>
        </div>
        <textarea
          class="source-editor"
          id="source-editor"
          spellcheck="false"
          aria-label="PlantUML source"
        >@startuml
Alice -> Bob: Hello
Bob -> Alice: Hi
@enduml</textarea>
      </aside>
    </main>
    <footer class="error" id="error-message" role="alert" style="display: none;"></footer>
  </div>
  <!-- CodeMirror CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/default.min.css">
  <!-- CodeMirror JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
  <!-- 加载 vendors chunk -->
  <script src="vendors-PlantUMLEditorApp.js"></script>
  <!-- 加载主应用 -->
  <script src="PlantUMLEditorApp.js"></script>
  <script>
    // 初始化应用
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        if (window.PlantUMLEditorApp) {
          window.app = new window.PlantUMLEditorApp();
        }
      });
    } else {
      if (window.PlantUMLEditorApp) {
        window.app = new window.PlantUMLEditorApp();
      }
    }
  </script>
</body>
</html>

